
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://crazyarms.xyz/" rel="canonical"/>
<link href="img/favicon.svg" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-6.2.4" name="generator"/>
<title>Crazy Arms Radio Backend Documentation</title>
<link href="assets/stylesheets/main.15aa0b43.min.css" rel="stylesheet"/>
<link href="assets/stylesheets/palette.75751829.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Inter:300,400,400i,700%7C&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Inter",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body data-md-color-accent="light-blue" data-md-color-primary="black" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#crazy-arms-radio-backend">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Crazy Arms Radio Backend Documentation" class="md-header-nav__button md-logo" href="https://crazyarms.xyz" title="Crazy Arms Radio Backend Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<div class="md-header-nav__topic">
<span class="md-ellipsis">
            Crazy Arms Radio Backend Documentation
          </span>
</div>
<div class="md-header-nav__topic">
<span class="md-ellipsis">
            
              Home
            
          </span>
</div>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/dtcooper/crazyarms" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    dtcooper/crazyarms
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href=".">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="users-guide/autodj/">
        User's Guide
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="admin-guide/configuration/">
        Admin's Guide
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="server-setup/">
      Server Setup
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="glossary/">
      Glossary of Terms
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="about/support/">
        About &amp; Support
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Crazy Arms Radio Backend Documentation" class="md-nav__button md-logo" href="https://crazyarms.xyz" title="Crazy Arms Radio Backend Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    Crazy Arms Radio Backend Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/dtcooper/crazyarms" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    dtcooper/crazyarms
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Home
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href=".">
      Home
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#installation">
    Installation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#audio-infrastructure-overview">
    Audio Infrastructure Overview
  </a>
<nav aria-label="Audio Infrastructure Overview" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sources-harbor-and-upstreams-explained">
    Sources, Harbor, and Upstreams Explained
  </a>
<nav aria-label="Sources, Harbor, and Upstreams Explained" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#the-harbor">
    The Harbor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sources">
    Sources
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#upstream-servers">
    Upstream Servers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#harbor-flow-diagram">
    Harbor Flow Diagram
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sources-details">
    Sources Details
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#customization-settings">
    Customization &amp; Settings
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#features-at-a-glance">
    Features At a Glance
  </a>
<nav aria-label="Features At a Glance" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#non-features">
    Non-Features
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      User's Guide
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="User's Guide" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon"></span>
        User's Guide
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="users-guide/autodj/">
      AutoDJ
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="users-guide/prerecorded-broadcasts/">
      Prerecorded Broadcasts
    </a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" id="nav-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-2-3">
      Live DJing
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Live DJing" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-2-3">
<span class="md-nav__icon md-icon"></span>
        Live DJing
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="users-guide/dj/icecast/">
      Icecast 2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="users-guide/dj/zoom/">
      Zoom
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="users-guide/dj/rtmp/">
      RTMP
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Admin's Guide
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Admin's Guide" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        Admin's Guide
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="admin-guide/configuration/">
      Configuration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="admin-guide/autodj/">
      AutoDJ
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="admin-guide/permissions/">
      User Permissions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="admin-guide/google-calendar/">
      Google Calendar Scheduling
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="server-setup/">
      Server Setup
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="glossary/">
      Glossary of Terms
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      About &amp; Support
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="About &amp; Support" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-6">
<span class="md-nav__icon md-icon"></span>
        About &amp; Support
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="about/support/">
      Issues &amp; Support
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="about/license/">
      License
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="about/changelog/">
      Changelog
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="about/author-miscellany/">
      Author &amp; Miscellany
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1 id="crazy-arms-radio-backend">Crazy Arms Radio Backend<a class="headerlink" href="#crazy-arms-radio-backend" title="Permanent link">¶</a></h1>
<div class="admonition danger">
<p class="admonition-title">Danger: Hic Sunt Dracones (Here Be Dragons)</p>
<p>Crazy Arms is currently <strong>under active development</strong>, however you can preview
things right now.</p>
<p>This documentation is a <strong>work in progress.</strong> There are missing sections, and
it may include incorrect information until the first release.</p>
</div>
<p>Crazy Arms Radio Backend is a flexible and fully featured Internet radio back-end
written from the ground up.</p>
<p>It’s specifically written after its author built a few <em>fully decentralized</em>
online radio stations with some common needs, but found no existing product fit.
Crazy Arms seeks to fit those needs needs out of the box, but allows for
stations to customize their stream if necessary to fit their unique use cases.</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">¶</a></h2>
<p>If you’re a technical user or a systems administrator wanting to install Crazy
Arms, head over to the <a href="server-setup/#installation">installation instructions</a>.</p>
<h2 id="audio-infrastructure-overview">Audio Infrastructure Overview<a class="headerlink" href="#audio-infrastructure-overview" title="Permanent link">¶</a></h2>
<h3 id="sources-harbor-and-upstreams-explained">Sources, Harbor, and Upstreams Explained<a class="headerlink" href="#sources-harbor-and-upstreams-explained" title="Permanent link">¶</a></h3>
<h4 id="the-harbor">The Harbor<a class="headerlink" href="#the-harbor" title="Permanent link">¶</a></h4>
<p>The main audio component of Crazy Arms is called the <strong>Harbor.</strong> It takes care
of choosing what to broadcast based on some simple rules. In a sense, it’s a
stream picker. Think of the Harbor as a robot sitting at an imaginary console,
deciding what to play and when, using its <em>crazy arms</em> turning volume knobs, and
pushing and pulling on faders at exactly the right moment. <em>(And just like that,
we arrive at the reason for the project’s name! Okay, it’s not the
<a href="https://www.youtube.com/watch?v=GurizZaR0Ms">only reason…</a>)</em></p>
<h4 id="sources">Sources<a class="headerlink" href="#sources" title="Permanent link">¶</a></h4>
<p>The harbor has several input <strong>sources.</strong> A source is any audio input feeding
into the harbor. In our robot example above, think of sources as input channels
on the console. Out of the box examples of sources include the
<a href="users-guide/autodj/">AutoDJ</a>,
<a href="users-guide/prerecorded-broadcasts/">scheduled, pre-recorded broadcasts</a>,
and live DJs streaming with <a href="users-guide/dj/icecast/">Icecast 2</a>,
<a href="users-guide/dj/rtmp/">RTMP</a> (experimental), or a <a href="users-guide/dj/zoom/">Zoom room</a>.
Each input is assigned a priority, and the source with the highest priority
<em>that is active</em> will be what the robot chooses to play. We call this concept
<strong>priority-based streaming.</strong></p>
<div class="admonition info">
<p class="admonition-title">Active and Inactive Sources, Silence Detection</p>
<p>When a source goes from inactive to active, the Harbor will smoothly fade to
it. What exactly constitutes <em>active</em> and <em>inactive?</em> The answer is that it
depends on the source.</p>
<p>For example, in the case of the AutoDJ source, Crazy Arms will always have
music to play so that source is always considered to be active. <em>(You did
upload music into the AutoDJ, right!?)</em> The AutoDJ has low priority so it’s
sort of an always-on default.</p>
<p>On the other hand, take a “live source” like a live DJ streaming using
Icecast 2. When the DJ connects and starts streaming, that source is active.</p>
<p>That’s not the whole story. The harbor uses <strong>silence detection</strong> for live
sources. This means if a live DJ is connected and streaming, but is
broadcasting silence the source is considered inactive. Suppose their
microphone isn’t working or a fader on their mixer is accidentally pulled
down. Or maybe they forgot to disconnect. We wouldn’t want your station
silent, would we? In short, if a live source is connected but silent, it will
be considered inactive. The amount of silence before fading is configurable
but defaults to 15 seconds.</p>
<p>The theory behind this feature is part of the <strong><em>Idiot-Tolerant™</em> DJing</strong>
philosophy of Crazy Arms. <img alt="😉" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f609.svg" title=":wink:"/></p>
</div>
<div class="admonition hint">
<p class="admonition-title">The Failsafe, the <em>Real</em> Always-on Default</p>
<p>Remember when I called the AutoDJ an “always-on default” just a couple
paragraphs ago. Well, the AutoDJ <em>can be disabled or end up in an erroneous
state,</em> for example if it chokes up on an invalid audio file<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, or you
start deleting music off the disk. If that happens, the AutoDJ will be an
inactive source and as noted above Crazy Arms doesn’t like to broadcast silence.</p>
<p>For this reason, it’s not <em>really</em> the always-on default source with the
lowest priority. It just acts like it. Enter, the <strong>failsafe.</strong> This
is a track that plays on simple repeat. The preloaded track is ridiculously
annoying hold music but can be changed using the Station Configuration
module in the station admin site.</p>
</div>
<h4 id="upstream-servers">Upstream Servers<a class="headerlink" href="#upstream-servers" title="Permanent link">¶</a></h4>
<p>The last thing you need to know about are we Crazy Arms called <strong>upstream servers.</strong>
These are simply places where your station is being broadcast to, usually Icecast
2 servers. That’s where listeners connect to. They’re the final output of the
Harbor. Some radio automation suites call these <em>“encoders.”</em> These might be
remote partners like <a href="https://www.iheart.com/">iHeart</a> or <a href="http://siriusxm.com">SiriusXM</a>,
a streaming provider like <a href="https://www.streamguys.com/">StreamGuys</a>, or your own
infrastructure. You can configure as many upstream servers as you like. For
convenience and to kickstart your station, Crazy Arms bundles a local Icecast 2
server it streams MP3 at <code>128kbps</code> to by default, using the popular
<a href="https://github.com/karlheyes/icecast-kh">icecast-kh</a> branch.</p>
<h4 id="harbor-flow-diagram">Harbor Flow Diagram<a class="headerlink" href="#harbor-flow-diagram" title="Permanent link">¶</a></h4>
<p>Now that you understand the basic concepts with the Harbor, here’s what it looks
like.</p>
<div class="admonition note">
<p class="admonition-title">Harbor Flow Diagram</p>
<div class="mermaid">flowchart LR
    subgraph sources ["Priority-Based Sources"]
        prerecord("1. Pre-recorded Broadcast<br/>(Scheduled, long-format shows)")
        subgraph live-sources ["Live Sources (Silence Detection)"]
            dj("2. Live DJ<br/>(Icecast 2, RTMP)")
            zoom("3. Live Zoom Room<br/>(if available)")
        end
        autodj("4. AutoDJ<br/>(if available)")
        failsafe(5. Failsafe)
    end

    harbor(("Harbor<br/>(Intelligent stream picker)"))

    prerecord --&gt;|highest priority| harbor
    dj --&gt; harbor
    zoom --&gt; harbor
    autodj --&gt; harbor
    failsafe --&gt;|lowest priority| harbor

    subgraph upstreams ["Upstream Servers"]
        icecast1("Local Icecast 2 Server (mp3)")
        icecast2("External Icecast 2 Server (aac)")
        icecastOthers("Other Icecast 2 Servers")
    end

    harbor --&gt; icecast1
    harbor --&gt; icecast2
    harbor --&gt; icecastOthers

    listeners(("Listeners"))

    icecast1 --&gt; listeners
    icecast2 --&gt; listeners
    icecastOthers --&gt; listeners
</div>
</div>
<h4 id="sources-details">Sources Details<a class="headerlink" href="#sources-details" title="Permanent link">¶</a></h4>
<div class="tabbed-set" data-tabs="1:5"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><label for="__tabbed_1_1">Pre-recorded Broadcasts</label><div class="tabbed-content">
<div class="admonition important">
<p class="admonition-title">Source Details</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">Priority:</td>
<td align="left">1 (highest)</td>
</tr>
<tr>
<td align="right">Silence Detection:</td>
<td align="left">Disabled <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg></span></td>
</tr>
<tr>
<td align="right">Description:</td>
<td align="left">Audio uploaded into the station admin site, then scheduled for airplay at a specific time.</td>
</tr>
<tr>
<td align="right">Availability:</td>
<td align="left">Pre-recorded broadcasts are <em>always available</em> in Crazy Arms to users with the <em>Program and schedule pre-recorded broadcasts</em> permission.</td>
</tr>
<tr>
<td align="right">Example:</td>
<td align="left">Two hour show recorded to an mp3 called <code>friday_night_mix.mp3</code>. This file is uploaded into the web UI by Alison Administrator on Monday, where she then schedules it to air Tuesday from 9:00pm to 11:00pm.</td>
</tr>
</tbody>
</table>
</div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio"><label for="__tabbed_1_2">Live DJ</label><div class="tabbed-content">
<div class="admonition important">
<p class="admonition-title">Source Details</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">Priority:</td>
<td align="left">2</td>
</tr>
<tr>
<td align="right">Silence Detection:</td>
<td align="left">Enabled <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"></path></svg></span></td>
</tr>
<tr>
<td align="right">Description:</td>
<td align="left">Live DJ streaming using either Icecast 2 or RMTP.</td>
</tr>
<tr>
<td align="right">Availability:</td>
<td align="left">The ability to live DJ is <em>always available</em> to users provided they are <a href="admin-guide/permissions/#harbor-authorization">authorized on the harbor</a>.</td>
</tr>
<tr>
<td align="right">Example:</td>
<td align="left">Diana Disk Jockey uses <a href="https://rogueamoeba.com/audiohijack/">Audio HiJack</a> from her Macbook to broadcast a live show with USB microphone and iTunes on Wednesday from 6:00pm to 8:00pm.</td>
</tr>
</tbody>
</table>
</div>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio"><label for="__tabbed_1_3">Zoom Room</label><div class="tabbed-content">
<div class="admonition important">
<p class="admonition-title">Source Details</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">Priority:</td>
<td align="left">3</td>
</tr>
<tr>
<td align="right">Silence Detection:</td>
<td align="left">Enabled <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"></path></svg></span></td>
</tr>
<tr>
<td align="right">Description:</td>
<td align="left">Live streaming using a Zoom room.</td>
</tr>
<tr>
<td align="right">Availability:</td>
<td align="left">The ability to use a Zoom room is <em>only available</em> if it is enabled for your installation (<a href="admin-guide/configuration/#the-environment-file-env-static-settings"><code>ZOOM_ENABLED=1</code> in your <code>.env</code> file</a>). Furthermore it is only available to users provided they are <a href="admin-guide/permissions/#harbor-authorization">authorized on the harbor</a>.</td>
</tr>
<tr>
<td align="right">Example:</td>
<td align="left">Video Conference Charlie starts a <a href="https://zoom.us">Zoom room</a>, enters the room link into Crazy Arms web interface and click start for one hour broadcast at 10:00am on Thursday.</td>
</tr>
</tbody>
</table>
</div>
</div>
<input id="__tabbed_1_4" name="__tabbed_1" type="radio"><label for="__tabbed_1_4">AutoDJ</label><div class="tabbed-content">
<div class="admonition important">
<p class="admonition-title">Source Details</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">Priority:</td>
<td align="left">4</td>
</tr>
<tr>
<td align="right">Silence Detection:</td>
<td align="left">Disabled <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg></span></td>
</tr>
<tr>
<td align="right">Description:</td>
<td align="left">Audio uploaded into the station admin site that plays at random. <a href="admin-guide/autodj/">More information here</a>.</td>
</tr>
<tr>
<td align="right">Availability:</td>
<td align="left">The autodj is <em>available</em> if the <a href="admin-guide/configuration/#autodj-configuration">station configuration <code>AUTODJ_ENABLED</code> is set to <code>True</code></a>, which is the default.</td>
</tr>
<tr>
<td align="right">Example:</td>
<td align="left">Steel Guitar Sally uploads the entire Ray Price catalog to the AutoDJ through the station admin site so music from that plays except during for the shows with higher priority scheduled on Tuesday, Wednesday and Thursday.</td>
</tr>
</tbody>
</table>
</div>
</div>
<input id="__tabbed_1_5" name="__tabbed_1" type="radio"><label for="__tabbed_1_5">Failsafe</label><div class="tabbed-content">
<div class="admonition important">
<p class="admonition-title">Source Details</p>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">Priority:</td>
<td align="left">5 (Lowest, always available)</td>
</tr>
<tr>
<td align="right">Silence Detection:</td>
<td align="left">Disabled <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg></span></td>
</tr>
<tr>
<td align="right">Description:</td>
<td align="left">Audio that plays when nothing else is available. (You’ll likely only to hear this if the AutoDJ is disabled.)</td>
</tr>
<tr>
<td align="right">Availability:</td>
<td align="left">The failsafe is <em>always on.</em> That’s kind of the point, right?</td>
</tr>
<tr>
<td align="right">Example:</td>
<td align="left">Station Manager Mike Bob disabled the AutoDJ for the radio station. When no one is streaming a live show, the failsafe track plays on repeat. Listeners are probably annoyed! For shame, Mike!</td>
</tr>
</tbody>
</table>
</div>
</div>
</input></input></input></input></input></div>
<h3 id="customization-settings">Customization &amp; Settings<a class="headerlink" href="#customization-settings" title="Permanent link">¶</a></h3>
<p>The Harbor is customizable. There are several settings you can choose from and
technical users can add additional sources or program the Harbor to do all sorts
of novel things. This level of customization, while for advanced users, is an
important feature of Crazy Arms. Every station is different some may have
nonstandard cases, so there may be no one size fits all
solution for everyone.</p>
<p>If you’re an administrator, find out how to customize the Harbor by
<a href="admin-guide/configuration/">reading more here</a>.</p>
<h2 id="features-at-a-glance">Features At a Glance<a class="headerlink" href="#features-at-a-glance" title="Permanent link">¶</a></h2>
<dl>
<dt>Priority-based Streaming</dt>
<dd>Crazy Arms operates on the concept of priority. This means it chooses the
source (audio input) that is streaming, properly operating, or online with
the highest priority. For example, a live DJ takes priority over the AutoDJ.
See <a href="#sources-harbor-and-upstreams-explained">more info on this concept below</a>.</dd>
<dt>Live scheduling via Google Calendar</dt>
<dd>
<p>Scheduling of live DJs using Google Calendar. An invite to a calendar event means
a DJ is authorized to play. Simple as that.</p>
<p>Rather than re-invent the wheel, Google Calendar was chosen because of its wide
adoption and east of use — and implementation of recurring events.. Your
web front-end can integrate with that, rather than a complex, custom API.</p>
</dd>
<dt>Scheduled playout of long-format audio files, ie prerecorded shows</dt>
<dd>A major use case is taking long-format audio files (ie two hours) and scheduling
them to play at specific times, superseding the AutoDJ.</dd>
<dt>Broadcasting for non-technical users with <a href="https://zoom.us/">Zoom</a></dt>
<dd>This is implemented with Zoom for Linux using a Docker container. A “runner”
bash script does its best to connect to a user’s Zoom room and listen in.
It’s inherently a bit brittle, but can be troubleshooted somewhat easily in
a web browser running <a href="https://novnc.com/info.html">noVNC</a> by an admin.</dd>
<dt><em>Idiot-Tolerant™</em> DJing</dt>
<dd>If a live DJ or Zoom room is broadcasting silence, Crazy Arms picks another
source to stream from.</dd>
<dt>Completely <a href="https://www.docker.com/">Docker</a>-ized</dt>
<dd>Easy development and easy deployment using
<a href="https://docs.docker.com/compose/">docker-compose</a>.</dd>
<dt>Useful and informative station administration and status tools.</dt>
<dd>
<p>Leveraging <a href="https://docs.djangoproject.com/en/3.1/">Django</a>‘s admin
interface much of Crazy Arms can be managed by administrators (or users with
the necessary permissions).</p>
<p>A status page is also provided that uses
<a href="https://en.wikipedia.org/wiki/Server-sent_events">server-sent events</a> in
which the Harbor service script communicates directly with your web browser
in real-time.</p>
</dd>
<dt>Uploading audio from varied sources</dt>
<dd>
<p>Uploading of audio files from sources like <a href="https://soundcloud.com/">SoundCloud</a>,
<a href="https://www.mixcloud.com/">Mixcloud</a>, or <a href="https://www.youtube.com/">YouTube</a> are
supported. Just enter a URL and the Crazy Arms downloads and processes your audio file.</p>
<p>This utilizes the wonderful <a href="https://github.com/blackjack4494/yt-dlc">youtube-dlc</a>
tool and supports literally
<a href="https://github.com/blackjack4494/yt-dlc/blob/master/docs/supportedsites.md"><em>thousands of sites</em></a>!</p>
</dd>
<dt>An AutoDJ that plays blocks of advertisements and station IDs (stop sets)</dt>
<dd>This feature can optionally be enabled in the <em>“Server Settings &gt; Configuration”</em>
section.</dd>
<dt>Fine-grained user permission structure.</dt>
<dd>If a user is <em>not</em> an administrator, there are several permission groups to
allow them some administrative privileges.</dd>
<dt>Accessible Logs</dt>
<dd>Less technical users can see server logs without <code>ssh</code> or command-line knowledge
to help troubleshoot. Maybe a DJ got their password wrong or tried to broadcast
at the wrong time?</dd>
<dt>Streaming Customization</dt>
<dd>At your own risk, you can modify <a href="https://www.liquidsoap.info/">Liquidsoap</a>
Harbor scripts. This gives pretty high flexibility for various use cases.</dd>
<dt>RTMP Support (Experimental)</dt>
<dd>There’s experimental support for RTMP, so anyone who’s familiar with tools
like <a href="https://obsproject.com/">Open Source Broadcaster (OBS)</a> can stream to
the harbor. Of course, video is discarded.</dd>
</dl>
<h3 id="non-features">Non-Features<a class="headerlink" href="#non-features" title="Permanent link">¶</a></h3>
<p><em>The following are non-features of Crazy Arms.</em></p>
<dl>
<dt>Front-end Not Included</dt>
<dd>Crazy Arms is designed to be a backend for your radio stream only. A user
interface that includes calendars, a fancy stream player, and metadata
isn’t included.</dd>
<dt>station admin site Look and Feel</dt>
<dd>The station admin site for Crazy Arms has a fairly inflexible look and feel. It’s
not necessarily a beautiful, easy to use interface but instead meant for
somewhat technical users. This is by design and was chosen for ease of
programming. The technical reason for why is that we chose to build it on
top of <a href="https://docs.djangoproject.com/en/3.1/ref/contrib/admin/">Django’s admin module</a>
module.</dd>
</dl>
<div class="footnote">
<hr/>
<ol>
<li id="fn:1">
<p>Crazy Arms tries very hard to reject invalid audio files, but it is
theoretically possible for it happen. In this case the AutoDJ could
temporarily fail and become inactive for a short time. <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--next" href="users-guide/autodj/" rel="next">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                AutoDJ
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020-2021 David Cooper
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="assets/javascripts/vendor.93c04032.min.js"></script>
<script src="assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
<script>
        app = initialize({
          base: ".",
          features: ['navigation.instant', 'navigation.sections', 'navigation.tabs', 'toc.integrate'],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script><script>mermaid.initialize({
    theme: "default"
});</script></body>
</html>